<div class="sidebar-container p-3">
  <h1>FlickFolio</h1>
  <button class="btn btn-success" (click)="showForm = !showForm">Add a Movie</button>

  <div *ngIf="showForm">
    <tbody>
      <tr>
        <td>
          <input [(ngModel)]="newMovie.title" placeholder="Title">
        </td>
      </tr>

      <tr>
        <td>
             <!-- <input [(ngModel)]="newMovie.releaseDate" placeholder="Release Date"> -->
          <select class="sidebar_year_dropdown" [(ngModel)]="newMovie.releaseDate" >
            <option *ngFor="let year of getYears()" [value]="year">
              {{ year }}
            </option>
          </select>
        </td>
      </tr>

      <tr>
        <td>
          <label for="sidebar_year_dropdown">Release Date</label>
        </td>
      </tr>

      <tr>
        <td>
          <label for="status">Have You Seen It?</label>
        </td>
      </tr>

      <tr>
        <td>
          <select id="status" [(ngModel)]="newMovie.status" placeholder="Status">
            <option value="Watched">Yes</option>
            <option value="Unwatched">No</option>
          </select>
        </td>
      </tr>

      <tr>
        <td>
          <label for="rating">Rating</label><br>
        </td>
      </tr>

      <tr>
        <td>
          <select id="rating" [(ngModel)]="newMovie.rating">
            <option value="G">G</option>
            <option value="PG">PG</option>
            <option value="PG-13">PG-13</option>
            <option value="R">R</option>
            <option value="MA">MA</option>
          </select>
        </td>
      </tr>

      <tr>
        <td>
          <input [(ngModel)]="newMovie.platform" placeholder="Platform">
        </td>
      </tr>

      <tr>
        <td>
          <button class="btn btn-primary" (click)="addMovie()">Save Movie</button>
        </td>
      </tr>
  </tbody>
  </div>

  <div *ngIf="selectedMovie">
    <h2>{{ selectedMovie?.title }}</h2>
    <img [src]="selectedMovie?.coverUrl" alt="Movie Cover" *ngIf="selectedMovie?.coverUrl" style="width: 100%; max-height: 300px;">
    <!-- Need to write code to update the description and make this actually work. -->
    <p>{{ selectedMovie?.description }}</p>

  </div>

</div>
